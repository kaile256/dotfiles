# Help: https://i3wm.org/docs/userguide.html
# Ref: X11/.xinitrc

# Keybind; Try {{{
#bindsym $Super+Shift+minus move scratchpad
bindsym $Super+$Alt+h exec xdg-open /usr/share/doc/manjaro/i3_help_live.pdf
#bindsym $Super+Shift+F3 exec gksu pcmanfm
#bindsym $SuperS+i exec calamares_polkit
#bindsym $Super+Ctrl+a exec terminal -e 'setup'
#bindsym $mod+t exec --no-startup-id pkill compton
#bindsym $mod+Ctrl+t exec --no-startup-id compton -b
#bindsym $mod+Ctrl+x --release exec --no-startup-id xkill
#}}}
# Var; Keyname {{{
set $Super  Mod4
set $SuperS Mod4+Shift
set $Alt    Mod1
set $AltC   Mod1+Control
set $AltS   Mod1+Shift
#}}}

## Border Style {{{
## <normal|1pixel|pixel xx|none|pixel>
#default_border pixel 1
#default_floating_border normal
## Hide borders
#hide_edge_borders none
## Change Borders
#bindsym $mod+u border none
#bindsym $mod+y border pixel 1
#bindsym $mod+n border normal
##}}}

# General; Wallpaper {{{
## TODO: i3-cheat sheet on desktop.
#exec --no-startup-id "feh --bg-scale $HOME/.config/i3/~~.jpg"
#}}}
# General; Font {{{
font pango:SF Mono 11
#}}}

# List; Auto Start {{{
workspace_layout tabbed
# xrandr;
exec --no-startup-id ~/.config/i3/monitor.sh
# nm-applet: WiFi Network Manager
exec --no-startup-id nm-applet
exec --no-startup-id fcitx
# dunst: Light Notification Daemon
#exec --no-startup-id dunst
# parcellite: Clipboard Manager
#exec --no-startup-id parcellite
#exec --no-startup-id clipit
# urxvtd: Daemon of rxvt-unicode. Use urxvtc as a client.
#exec "urxvtd -o -f"
#exec --no-startup-id volumeicon
exec --no-startup-id xautolock -time 15 -locker blurlock
exec --no-startup-id nitrogen --restore; sleep 1; compton -b
# Show the CP's status on the wallpaper.
#exec --no-startup-id start_conky_live_maia
exec --no-startup-id ~/black_perl_conky/startup.sh
#exec --no-startup-id blueman
#exec --no-startup-id manjaro-hello
#exec --no-startup-id pamac-tray
#exec --no-startup-id desktop-items
#exec --no-startup-id /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1
# exec_always --no-startup-id sbxkb
#exec --no-startup-id xfce4-power-manager
#exec_always --no-startup-id ff-theme-util
#exec_always --no-startup-id setcursor
# Modifier; Sound Volume {{{
#bindsym $Super+Ctrl+m exec terminal -e 'alsamixer'
#exec --no-startup-id pulseaudio
#exec --no-startup-id pa-applet
#bindsym $mod+Ctrl+m exec pavucontrol
#}}}
#}}}

# Keybind; Notification {{{
## dunst; a notification-daemon
bindsym $Super+Shift+d --release exec "killall dunst; exec notify-send 'restart dunst'"
#}}}
# Keybind; i3's command {{{
## Kill Focused Window
bindsym $Super+z  kill
# reload the configuration file
bindsym $SuperS+c reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $Super+space  restart
#}}}
# Keybind; Music Player {{{
bindsym $SuperS+m exec terminal -e 'mocp'
#}}}
# Keybind; open File Manager {{{
bindsym $Super+m exec pcmanfm
bindsym $superS+r exec terminal -e 'ranger'
#}}}
# Keybind; open Menu {{{
#bindsym $Super+semicolon exec --no-startup-id i3-dmenu-desktop
bindsym $Super+Return exec --no-startup-id i3-dmenu-desktop
#bindsym $SuperS+Return exec terminal -e 'bmenu'
bindsym $Super+Ctrl+Return exec --no-startup-id $menu
#bindsym $Super+d exec dmenu_run
#}}}
# Keybind; open Terminal {{{
# urxvtc; add `-k` to kill daemon, too.
#bindsym $Super+u exec urxvtc
bindsym $Super+u exec urxvt
bindsym $Super+t exec alacritty
#}}}
# Keybind; open Editor {{{
bindsym $Super+v exec --no-startup-id alacritty -e 'vim'
bindsym $Super+a exec --no-startup-id alacritty -e 'nvim'
bindsym $Super+n exec --no-startup-id nvim-qt
bindsym $Super+q exec --no-startup-id nvim-qt
#bindsym $Super+r exec --no-startup-id nvim-gtk # font decayed
#bindsym $Super+g exec --no-startup-id glrnvim
#bindsym $SuperS+g exec --no-startup-id gonvim
bindsym $Super+g exec --no-startup-id gnvim
bindsym $Super+y exec --no-startup-id nyaovim
bindsym $Super+o exec --no-startup-id oni
bindsym $Super+e exec --no-startup-id emacs
#}}}
# Keybind; open Browser {{{
bindsym $Super+b exec qutebrowser
bindsym $Super+f exec firefox
bindsym $Super+c exec google-chrome-beta
#bindsym $Super+p exec palemoon
#}}}
# Fn; Backlight {{{
bindsym XF86MonBrightnessUp   exec xbacklight -inc 5
bindsym XF86MonBrightnessDown exec xbacklight -dec 5
#}}}
# Fn; Audio Volume {{{
# Depends: pulseaudio & pavucontrol
# Recommend: pamixer (a frontend)
# Recommend: pulseaudio-alsa (for flash)
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume 0 +5%
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume 0 -5%
bindsym XF86AudioMute        exec --no-startup-id pactl set-sink-mute 0 toggle

#}}}
# Fn; Screen Shot {{{
# depend: imagemagick
#bindsym $Super+Print exec --no-startup-id import -window root ~/Pictures/screenshot
bindsym $Super+Print exec --no-startup-id i3-scrot
#}}}
# Keybind; Focus Change {{{
bindsym $Super+h focus left
bindsym $Super+j focus down
bindsym $Super+k focus up
bindsym $Super+l focus right
## Focus; by Cursor Keys
bindsym $Super+Left focus left
bindsym $Super+Down focus down
bindsym $Super+Up focus up
bindsym $Super+Right focus right
## Focus; by Vim-Additional
bindsym $AltC+h focus left
bindsym $AltC+j focus down
bindsym $AltC+k focus up
bindsym $AltC+l focus right
#}}}
# Keybind; Move {{{
bindsym $SuperS+h move left
bindsym $SuperS+j move down
bindsym $SuperS+k move up
bindsym $SuperS+l move right
## Move; by Vim-Additional
bindsym $AltS+h move left
bindsym $AltS+j move down
bindsym $AltS+k move up
bindsym $AltS+l move right
# Move; by Cursor Keys
bindsym $SuperS+Left move left
bindsym $SuperS+Down move down
bindsym $SuperS+Up move up
bindsym $SuperS+Right move right
#}}}

# Mode; System {{{
#set $Locker i3lock -i ~/Pictures/Wallpaper/kishimen.png && sleep 1
## If use i3-nagbar {{{
#bindsym $Super+x  exec "i3-nagbar -t warning -f SF Mono 12 -m  'Do you really want to exit i3?' -b 'q:poweroff' 'systemctl poweroff' -b 'r:reboot' 'systemctl reboot' -b 'l:logout' 'i3-msg exit'", mode "$system"
#bindsym $SuperS+x exec "i3-nagbar -t warning -f SF Mono 12 -m  'Do you really want to exit i3?' -b 'q:poweroff' 'systemctl poweroff' -b 'r:reboot' 'systemctl reboot' -b 'l:logout' 'i3-msg exit'", mode "$system"
##}}}
bindsym $Super+Ctrl+x  mode "$systemctl"; exec notify-send 'systemctl'
bindsym $Super+Ctrl+z  mode "$systemctl"; exec notify-send 'systemctl'
set $systemctl Poweroff? (y)es, (n)o, (s)uspend, (r)eboot or (l)ock?
mode "$systemctl" {
#bindsym l exec --no-startup-id $Locker, mode "default"
#bindsym s exec --no-startup-id $Locker && systemctl suspend, mode "default"
#bindsym h exec --no-startup-id $Locker && systemctl hibernate, mode "default"
bindsym l exec --no-startup-id i3-msg exit, mode "default"
bindsym k exec --no-startup-id i3-msg exit, mode "default"
bindsym r exec --no-startup-id systemctl reboot,  mode "default"
bindsym s exec --no-startup-id systemctl sudpend, mode "default"
bindsym p exec --no-startup-id systemctl poweroff, mode "default"
bindsym q exec --no-startup-id systemctl poweroff, mode "default"
bindsym y exec --no-startup-id systemctl poweroff, mode "default"
bindsym u exec --no-startup-id systemctl poweroff, mode "default"
bindsym n            mode "default"
bindsym Escape       mode "default"
bindsym Ctrl+[       mode "default"
bindsym $Super+Ctrl+x  mode "default"
bindsym Ctrl+c       mode "default"
bindsym $Super+space mode "default"
}
#}}}
# Mode; Resize Window {{{
# you can also use the mouse for that
mode "$resize" {
# These bindings trigger as soon as you enter the resize mode
#bindsym j resize shrink width 25 px or 25 ppt
#bindsym k resize grow width 25 px or 25 ppt
#bindsym n resize shrink width 25 px or 25 ppt
#bindsym w resize grow width 25 px or 25 ppt
#bindsym h resize grow height 25 px or 25 ppt
#bindsym l resize shrink height 25 px or 25 ppt

# same bindings, but for the arrow keys
bindsym h resize shrink width 25 px or 25 ppt
bindsym j resize grow height 25 px or 25 ppt
bindsym k resize shrink height 25 px or 25 ppt
bindsym l resize grow width 25 px or 25 ppt

# back to normal: Enter or Escape or $Super+r
bindsym Return mode "default"
bindsym Escape mode "default"
bindsym Ctrl+c mode "default"
}

#set $resize Resize as you want: (H)igher/(L)ower | (N)arrower/(W)ider
set $resize Resize as you want: (H)shrink(left) (N)grow(down) (K)shrink(up) (L)grow(right) | <Ctrl-C>: Cancel
bindsym $Super+Ctrl+r mode "$resize"
#}}}
# Mode; Backlight {{{
bindsym $Super+Ctrl+b mode "$backlight"
set $backlight Backlight Control: (h)Higher, (l)Lower, (n)Exit
mode "$backlight" {
bindsym k exec "xbacklight -inc 5; notify-send 'brightness up'"
bindsym j exec "xbacklight -dec 5; notify-send 'brightness down'"
bindsym u exec "xbacklight -inc 5; notify-send 'brightness up'"
bindsym d exec "xbacklight -dec 5; notify-send 'brightness down'"
bindsym n            mode "default"
bindsym Escape       mode "default"
bindsym Ctrl+[       mode "default"
bindsym Return       mode "default"
bindsym Space        mode "default"
bindsym $Super+Ctrl+b  mode "default"
bindsym Ctrl+c       mode "default"
bindsym $Super+space mode "default"
}
#}}}
# Mode; Sound Volume {{{
bindsym $Super+Ctrl+s mode "$sound"
bindsym $Super+Ctrl+v mode "$sound"
set $sound Sound Volume: (H)igher, (L)ower, (M)ute or (N)o more.
mode "$sound" {
bindsym j exec --no-startup-id pactl set-sink-volume 0 -5%
bindsym k exec --no-startup-id pactl set-sink-volume 0 +5%
bindsym u exec --no-startup-id pactl set-sink-volume 0 +5%
bindsym d exec --no-startup-id pactl set-sink-volume 0 -5%
bindsym m exec --no-startup-id pactl set-sink-mute   0 toggle
bindsym n            mode "default"
bindsym Escape       mode "default"
bindsym Ctrl+squarebrace       mode "default"
bindsym Return       mode "default"
bindsym Space        mode "default"
bindsym $Super+Ctrl+s  mode "default"
bindsym Ctrl+c       mode "default"
bindsym $Super+space mode "default"
}
#}}}

# Block; Status Bar {{{
# Start i3bar to display a workspace bar (plus the system information i3status
# finds out, if available)
bar {
# Use pyi3status instead (status_command python ~/.config/i3/i3status/config.py)
status_command i3status --config ~/.config/i3/i3status/config
output            eDP1
output            HDMI
output            LVDS1
position          bottom
mode              dock
workspace_buttons yes
tray_output       none
font pango:Icons, SF Mono 12
colors {
background #000000
statusline #ffffff
focused_workspace  #ffffff #285577
active_workspace   #ffffff #333333
inactive_workspace #888888 #222222
urgent_workspace   #ffffff #900000
}
}
#}}}
# Mouse #{{{
# Use Mouse+$Super to drag floating windows to their wanted position
floating_modifier $Super
#focus_follows_mouse no
#}}}
# Window; Layout {{{
bindsym F11 fullscreen toggle
#bindsym $SuperS+s split h;exec notify-send 'tile horizontally'
#bindsym $SuperS+v split v;exec notify-send 'tile vertically'
#bindsym $SuperS+t layout tabbed; exec notify-send 'tile tabbed'
# stacking: like tabbed, but switch windows up & down.
#bindsym $SuperS+s layout stacking
#bindsym $SuperS+e layout toggle split
#bindsym $SuperS+f floating toggle
## on Floating; Change Focus
# change focus between tiling / floating windows
#bindsym $SuperS+o focus mode_toggle
#bindsym $Super+a focus parent
#bindsym $Super+u focus child
#}}}

## Specify Apps to Open in Floating {{{
#for_window [title="alsamixer"] floating enable border pixel 1
#for_window [class="calamares"] floating enable border normal
#for_window [class="Clipgrab"] floating enable
#for_window [title="File Transfer*"] floating enable
#for_window [class="Galculator"] floating enable border pixel 1
#for_window [class="GParted"] floating enable border normal
#for_window [title="i3_help"] floating enable sticky enable border normal
#for_window [class="Lightdm-settings"] floating enable
#for_window [class="Lxappearance"] floating enable border normal
#for_window [class="Manjaro-hello"] floating enable border normal
#for_window [class="Manjaro Settings Manager"] floating enable border normal
#for_window [title="MuseScore: Play Panel"] floating enable
#for_window [class="Nitrogen"] floating enable sticky enable border normal
#for_window [class="Oblogout"] fullscreen enable
#for_window [class="octopi"] floating enable
#for_window [title="About Pale Moon"] floating enable
#for_window [class="Pamac-manager"] floating enable
#for_window [class="Pamac-updater"] floating enable
#for_window [class="Pavucontrol"] floating enable
#for_window [class="Qtconfig-qt4"] floating enable border normal
#for_window [class="qt5ct"] floating enable sticky enable border normal
#for_window [title="sudo"] floating enable border normal
#for_window [class="Simple-scan"] floating enable border normal
#for_window [class="(?i)System-config-printer.py"] floating enable border normal
#for_window [class="Skype"] floating enable border normal
#for_window [class="Timeset-gui"] floating enable border normal
#for_window [class="(?i)virtualbox"] floating enable border normal
#for_window [class="Xfburn"] floating enable
##}}}
# If Urgent, switch to the workspace immediately.
#for_window [urgent=latest] focus

# Workspace; Name {{{
set $ws1 "vim"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"
#}}}
# Workspace; Focus Switch {{{
workspace_auto_back_and_forth yes
#bindsym $mod+b workspace back_and_forth
#bindsym $mod+Shift+b move container to workspace back_and_forth; workspace back_and_forth
bindsym $Super+1 workspace $ws1
bindsym $Super+2 workspace $ws2
bindsym $Super+3 workspace $ws3
bindsym $Super+4 workspace $ws4
bindsym $Super+5 workspace $ws5
bindsym $Super+6 workspace $ws6
bindsym $Super+7 workspace $ws7
bindsym $Super+8 workspace $ws8
bindsym $Super+9 workspace $ws9
bindsym $Super+0 workspace $ws10
#}}}
# Workspace; Move {{{
bindsym $SuperS+1 move container to workspace $ws1
bindsym $SuperS+2 move container to workspace $ws2
bindsym $SuperS+3 move container to workspace $ws3
bindsym $SuperS+4 move container to workspace $ws4
bindsym $SuperS+5 move container to workspace $ws5
bindsym $SuperS+6 move container to workspace $ws6
bindsym $SuperS+7 move container to workspace $ws7
bindsym $SuperS+8 move container to workspace $ws8
bindsym $SuperS+9 move container to workspace $ws9
bindsym $SuperS+0 move container to workspace $ws10
#}}}

## for i3-gaps: {{{
#
## Set inner/outer gaps
#gaps inner 14
#gaps outer -2
#
## Additionally, you can issue commands with the following syntax. This is useful to bind keys to changing the gap size.
## gaps inner|outer current|all set|plus|minus <px>
## gaps inner all set 10
## gaps outer all plus 5
#
## Smart gaps (gaps used if only more than one container on the workspace)
#smart_gaps on
#
## Smart borders (draw borders around container only if it is not the only container on this workspace)
## on|no_gaps (on=always activate and no_gaps=only activate if the gap size to the edge of the screen is 0)
#smart_borders on
#
## Press $mod+Shift+g to enter the gap mode. Choose o or i for modifying outer/inner gaps. Press one of + / - (in-/decrement for current workspace) or 0 (remove gaps for current workspace). If you also press Shift with these keys, the change will be global for all workspaces.
#set $mode_gaps Gaps: (o) outer, (i) inner
#set $mode_gaps_outer Outer Gaps: +|-|0 (local), Shift + +|-|0 (global)
#set $mode_gaps_inner Inner Gaps: +|-|0 (local), Shift + +|-|0 (global)
#bindsym $mod+Shift+g mode "$mode_gaps"
#
#mode "$mode_gaps" {
#        bindsym o      mode "$mode_gaps_outer"
#        bindsym i      mode "$mode_gaps_inner"
#        bindsym Return mode "default"
#        bindsym Escape mode "default"
#}
#mode "$mode_gaps_inner" {
#        bindsym plus  gaps inner current plus 5
#        bindsym minus gaps inner current minus 5
#        bindsym 0     gaps inner current set 0
#
#        bindsym Shift+plus  gaps inner all plus 5
#        bindsym Shift+minus gaps inner all minus 5
#        bindsym Shift+0     gaps inner all set 0
#
#        bindsym Return mode "default"
#        bindsym Escape mode "default"
#}
#mode "$mode_gaps_outer" {
#        bindsym plus  gaps outer current plus 5
#        bindsym minus gaps outer current minus 5
#        bindsym 0     gaps outer current set 0
#
#        bindsym Shift+plus  gaps outer all plus 5
#        bindsym Shift+minus gaps outer all minus 5
#        bindsym Shift+0     gaps outer all set 0
#
#        bindsym Return mode "default"
#        bindsym Escape mode "default"
#}
##}}}
